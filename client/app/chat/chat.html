<div id="chat-view">
  <tabset>
    <tab>
      <tab-heading>
        <i class="fa fa-home fa-fw"></i>
      </tab-heading>
    </tab>
    <tab ng-repeat="contact in contacts" ng-show="contact.conversation.isOpen" active="contact.conversation.isActive">
      <tab-heading>
        <i class="fa fa-comment fa-fw" ng-show="contact.conversation.hasUnread"></i> {{contact.name}}
        <a href="#" ng-click="contact.conversation.close()"><i class="fa fa-times fa-fw"></i></a>
      </tab-heading>
      <div id="chat-{{contact.name}}" class="tab-content" ng-show="contact.conversation.isOpen">
        <div class="chat-wrap">
          <div ng-repeat="message in contact.conversation.messages">
            {{message.senderId | idToName}} said: {{message.content}}
          </div>
        </div>
        <div class="navbar navbar-default navbar-fixed-bottom navbar-send" cg-busy="contact.conversation.sendingPromise">
          <div class="container-fluid">
            <form class="navbar-form" role="form">
              <div class="row">
                <div class="form-group">
                  <div class="col-xs-10">
                    <input type="text" class="form-control" placeholder="Message" ng-model="contact.conversation.currentMessage">
                  </div>
                  <div class="col-xs-2">
                    <button type="submit" class="btn btn-success btn-block" ng-click="send(contact)">
                      <i class="fa fa-send fa-fw"></i>
                      <span class="xs-hide">Send</span>
                    </button>
                  </div>
                </div>
              </div>
            </form>
          </div>
        </div>
      </div>
    </tab>
  </tabset>
</div>